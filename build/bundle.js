var app=function(){"use strict";function t(){}function n(t){return t()}function e(){return Object.create(null)}function o(t){t.forEach(n)}function r(t){return"function"==typeof t}function s(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}function a(t,n){t.appendChild(n)}function c(t,n,e){t.insertBefore(n,e||null)}function i(t){t.parentNode.removeChild(t)}function u(t){return document.createElement(t)}function l(t){return document.createTextNode(t)}function f(){return l(" ")}function d(t,n,e){null==e?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function m(t,n){n=""+n,t.wholeText!==n&&(t.data=n)}let p;function $(t){p=t}function h(t){(function(){if(!p)throw new Error("Function called outside component initialization");return p})().$$.on_mount.push(t)}const g=[],b=[],y=[],v=[],x=Promise.resolve();let _=!1;function w(t){y.push(t)}let j=!1;const k=new Set;function C(){if(!j){j=!0;do{for(let t=0;t<g.length;t+=1){const n=g[t];$(n),S(n.$$)}for($(null),g.length=0;b.length;)b.pop()();for(let t=0;t<y.length;t+=1){const n=y[t];k.has(n)||(k.add(n),n())}y.length=0}while(g.length);for(;v.length;)v.pop()();_=!1,j=!1,k.clear()}}function S(t){if(null!==t.fragment){t.update(),o(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(w)}}const E=new Set;let F;function A(t,n){t&&t.i&&(E.delete(t),t.i(n))}function G(t,n,e,o){if(t&&t.o){if(E.has(t))return;E.add(t),F.c.push((()=>{E.delete(t),o&&(e&&t.d(1),o())})),t.o(n)}}function L(t){t&&t.c()}function N(t,e,s,a){const{fragment:c,on_mount:i,on_destroy:u,after_update:l}=t.$$;c&&c.m(e,s),a||w((()=>{const e=i.map(n).filter(r);u?u.push(...e):o(e),t.$$.on_mount=[]})),l.forEach(w)}function O(t,n){const e=t.$$;null!==e.fragment&&(o(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}function T(t,n){-1===t.$$.dirty[0]&&(g.push(t),_||(_=!0,x.then(C)),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}function z(n,r,s,a,c,u,l,f=[-1]){const d=p;$(n);const m=n.$$={fragment:null,ctx:null,props:u,update:t,not_equal:c,bound:e(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(r.context||(d?d.$$.context:[])),callbacks:e(),dirty:f,skip_bound:!1,root:r.target||d.$$.root};l&&l(m.root);let h=!1;if(m.ctx=s?s(n,r.props||{},((t,e,...o)=>{const r=o.length?o[0]:e;return m.ctx&&c(m.ctx[t],m.ctx[t]=r)&&(!m.skip_bound&&m.bound[t]&&m.bound[t](r),h&&T(n,t)),e})):[],m.update(),h=!0,o(m.before_update),m.fragment=!!a&&a(m.ctx),r.target){if(r.hydrate){const t=function(t){return Array.from(t.childNodes)}(r.target);m.fragment&&m.fragment.l(t),t.forEach(i)}else m.fragment&&m.fragment.c();r.intro&&A(n.$$.fragment),N(n,r.target,r.anchor,r.customElement),C()}$(d)}class H{$destroy(){O(this,1),this.$destroy=t}$on(t,n){const e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(n),()=>{const t=e.indexOf(n);-1!==t&&e.splice(t,1)}}$set(t){var n;this.$$set&&(n=t,0!==Object.keys(n).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}async function M(){const t=await fetch("https://coronavirus.m.pipedream.net"),n=await t.text();let e={status:t.status,json:null};return t.ok?(e.json=JSON.parse(n),e):(console.error(n),e)}function I(n){let e,o,r,s,d,p,$,h,g,b,y,v,x,_,w,j,k,C=(n[1].confirmed??"-")+"",S=(n[1].recovered??"-")+"",E=(n[1].deaths??"-")+"";return{c(){e=u("div"),o=u("p"),r=l(n[0]),s=l(":"),d=f(),p=u("ul"),$=u("li"),h=l("Confirmados: "),g=l(C),b=f(),y=u("li"),v=l("Recuperados: "),x=l(S),_=f(),w=u("li"),j=l("Muertos: "),k=l(E)},m(t,n){c(t,e,n),a(e,o),a(o,r),a(o,s),a(e,d),a(e,p),a(p,$),a($,h),a($,g),a(p,b),a(p,y),a(y,v),a(y,x),a(p,_),a(p,w),a(w,j),a(w,k)},p(t,[n]){1&n&&m(r,t[0]),2&n&&C!==(C=(t[1].confirmed??"-")+"")&&m(g,C),2&n&&S!==(S=(t[1].recovered??"-")+"")&&m(x,S),2&n&&E!==(E=(t[1].deaths??"-")+"")&&m(k,E)},i:t,o:t,d(t){t&&i(e)}}}function P(t,n,e){let{name:o}=n,{stats:r}=n;return t.$$set=t=>{"name"in t&&e(0,o=t.name),"stats"in t&&e(1,r=t.stats)},[o,r]}class U extends H{constructor(t){super(),z(this,t,P,I,s,{name:0,stats:1})}}function q(n){let e;return{c(){e=u("p"),e.textContent="Cargando...",d(e,"class","text-center svelte-sajf1n")},m(t,n){c(t,e,n)},p:t,i:t,o:t,d(t){t&&i(e)}}}function B(t){let n,e,o,r,s,p,$,h,g,b,y,v=J(t[0].json?.cache.lastUpdatedTimestamp)+"";return p=new U({props:{name:"Global",stats:t[0].json?.summaryStats.global}}),h=new U({props:{name:"Fuera de China",stats:t[0].json?.summaryStats.nonChina}}),b=new U({props:{name:"China",stats:t[0].json?.summaryStats.china}}),{c(){n=u("p"),e=l("Última actualización: "),o=l(v),r=f(),s=u("div"),L(p.$$.fragment),$=f(),L(h.$$.fragment),g=f(),L(b.$$.fragment),d(n,"class","text-center svelte-sajf1n"),d(s,"class","summaries svelte-sajf1n")},m(t,i){c(t,n,i),a(n,e),a(n,o),c(t,r,i),c(t,s,i),N(p,s,null),a(s,$),N(h,s,null),a(s,g),N(b,s,null),y=!0},p(t,n){(!y||1&n)&&v!==(v=J(t[0].json?.cache.lastUpdatedTimestamp)+"")&&m(o,v);const e={};1&n&&(e.stats=t[0].json?.summaryStats.global),p.$set(e);const r={};1&n&&(r.stats=t[0].json?.summaryStats.nonChina),h.$set(r);const s={};1&n&&(s.stats=t[0].json?.summaryStats.china),b.$set(s)},i(t){y||(A(p.$$.fragment,t),A(h.$$.fragment,t),A(b.$$.fragment,t),y=!0)},o(t){G(p.$$.fragment,t),G(h.$$.fragment,t),G(b.$$.fragment,t),y=!1},d(t){t&&i(n),t&&i(r),t&&i(s),O(p),O(h),O(b)}}}function D(t){let n,e,r,s,m,p,$,h,g,b;const y=[B,q],v=[];function x(t,n){return null==t[0]||t[1]?1:0}return e=x(t),r=v[e]=y[e](t),{c(){n=u("div"),r.c(),s=f(),m=u("div"),p=u("button"),$=l("Actualizar"),p.disabled=t[1],d(m,"class","update-container svelte-sajf1n")},m(o,r){var i,u,l,f;c(o,n,r),v[e].m(n,null),c(o,s,r),c(o,m,r),a(m,p),a(p,$),h=!0,g||(i=p,u="click",l=t[2],i.addEventListener(u,l,f),b=()=>i.removeEventListener(u,l,f),g=!0)},p(t,[s]){let a=e;e=x(t),e===a?v[e].p(t,s):(F={r:0,c:[],p:F},G(v[a],1,1,(()=>{v[a]=null})),F.r||o(F.c),F=F.p,r=v[e],r?r.p(t,s):(r=v[e]=y[e](t),r.c()),A(r,1),r.m(n,null)),(!h||2&s)&&(p.disabled=t[1])},i(t){h||(A(r),h=!0)},o(t){G(r),h=!1},d(t){t&&i(n),v[e].d(),t&&i(s),t&&i(m),g=!1,b()}}}function J(t){return new Date(t).toLocaleString()}function R(t,n,e){let o,r=!1;return h((async()=>{e(1,r=!0),e(0,o=await M()),e(1,r=!1)})),[o,r,async function(){e(1,r=!0),e(0,o=await M()),e(1,r=!1)}]}class V extends H{constructor(t){super(),z(this,t,R,D,s,{})}}function K(n){let e,o,r,s,m,p,$,h,g,b,y,v,x;return p=new V({}),{c(){e=u("main"),o=u("a"),o.textContent="Fork me on GitHub",r=f(),s=u("h1"),s.textContent="Estadísticas de Covid-19",m=f(),L(p.$$.fragment),$=f(),h=u("p"),g=l("Información obtenida desde "),b=u("a"),y=l("API for Latest Covid-19"),v=l("."),d(o,"class","github-fork-ribbon"),d(o,"href","https://github.com/FS-Frost/covid-stats"),d(o,"target","_blank"),d(o,"rel","noreferrer"),d(o,"data-ribbon","Fork me on GitHub"),d(o,"title","Fork me on GitHub"),d(s,"class","svelte-1ewsyf2"),d(b,"href",Q),d(b,"target","_blank"),d(b,"rel","noreferrer"),d(h,"class","text-center svelte-1ewsyf2"),d(e,"class","svelte-1ewsyf2")},m(t,n){c(t,e,n),a(e,o),a(e,r),a(e,s),a(e,m),N(p,e,null),a(e,$),a(e,h),a(h,g),a(h,b),a(b,y),a(h,v),x=!0},p:t,i(t){x||(A(p.$$.fragment,t),x=!0)},o(t){G(p.$$.fragment,t),x=!1},d(t){t&&i(e),O(p)}}}const Q="https://pipedream.com/@pravin/http-api-for-latest-wuhan-coronavirus-data-2019-ncov-p_G6CLVM/readme";return new class extends H{constructor(t){super(),z(this,t,null,K,s,{})}}({target:document.body,props:{}})}();
//# sourceMappingURL=bundle.js.map
